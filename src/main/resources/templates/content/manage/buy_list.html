<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{layout/manage_layout}">

<div layout:fragment ="content">

	<style>
		.star {
			position: relative;
			font-size: 2rem;
			color: #ddd;
		}
	  
		.star input {
			width: 100%;
			height: 100%;
			position: absolute;
			left: 0;
			opacity: 0;
			cursor: pointer;
		}

		.star span {
			width: 0;
			position: absolute; 
			left: 0;
			color: #CFB997;
			overflow: hidden;
			pointer-events: none;
		}
	</style>
	
	<div class="mt-3">
		<h4>구매 내역</h4>
		
		<div>
			<input type="button" value="구매 확정">
		</div>
		<div>
			<input type="button" value="후기 작성" data-bs-toggle="modal" data-bs-target="#review_modal">
			<!-- th:onclick="|location.href='@{/board/regReview}'|"  -->
		</div>
		
	</div>

	<!-- 후기 작성 버튼 클릭시 실행되는 Modal -->
	<div class="modal fade" id="review_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">리뷰 작성</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form class="row g-3" th:action="@{/board/regReview}" method="post" enctype="multipart/form-data">
							<div class="col-12">
								<div class="mt-3">
									상품명 | 상품명
								</div>
								<div class="mt-3"> 별점 | 
									<span class="star">
										★★★★★
										<span>★★★★★</span>
										<input type="range" oninput="drawStar(this)" value="1" step="1" min="0" max="10" name="starPoint">
									</span>
								</div>
							
								<div class="mt-3">
									<input type="text" class="form-control" name="boardTitle" placeholder="제목을 입력하세요">
								</div>
								<div class="mt-3">
									<textarea rows="10px;" class="form-control" name="boardContent" placeholder="내용을 입력하세요"></textarea>
								</div>
								<div class="mt-3">
									<input class="form-control" type="file" name="reviewImg">
								</div>
							</div>
							<div class="col-12 text-end">
								<button type="button" class="btn btn-secondary"	data-bs-dismiss="modal">Close</button>
								<button type="submit" class="btn btn-primary">등록</button>
							</div>
						</form>
					</div>
				<!-- 	<div class="modal-footer">
					
					</div> -->
			</div>
		</div>
	</div>	

	<script type="text/javascript">
		 const drawStar = (target) => {
			    document.querySelector(`.star span`).style.width = `${target.value * 10}%`;
			  }
	</script>



</div>
</html>
